{% extends 'layout/base.html' %}
{% load static %}

{% block css %}
<!-- CSS -->
<link rel="stylesheet" href="{% static 'Css/random_forest_classifier.css' %}">
{% endblock %}

{% block content %}
<h2>Extra Tree Reggressor</h2>

	
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div>
            <label for="" class="label_heading">Input Prediction column</label>
            <input type="text" placeholder="Enter the prediction column" name="predcol">
        </div>
        
        <div>
            <label for="" class="label_heading">Input Number of columns</label>
            <input type="number" placeholder="Enter the prediction column" name="size1">
        </div>
<div>
    
    <label class="label_heading">Choose criteion</label>
    <select multiple data-select name="criteion">
        <!-- <optgroup label="Alaskan/Hawaiian Time Zone"> -->
            <option value="squared_error">squared_error</option>
            <option value="friedman_mse">friedman_mse</option>
            <!-- <option value="log_loss">log loss</option> -->
            
            <!-- </optgroup> -->
            
        </select>
    </div>
<div>
    
    <label class="label_heading">Choose max feature</label>
    <select multiple data-select name="maxfeature">
        <!-- <optgroup label="Alaskan/Hawaiian Time Zone"> -->
            <option value="sqrt">sqrt</option>
            <option value="log2">log2</option>
            <option value="auto">auto</option>
            
            <!-- </optgroup> -->
            
        </select>
    </div>
    <div>
        <label class="label_heading"> Max DepthSlider Value: <span id="ranged">50</span></label>
    <input type="range" min="2" max="100" value="50" onchange="showValuedepth(this.value)" name="slidervalue">
    </div>
    <div>
        <label class="label_heading"> Sample Split :Slider Value: <span id="rangesp">4</span></label>
    <input type="range" min="3" max="50" value="4" onchange="showValuesplit(this.value)" name="sample_split">
    </div>
    <!-- <div>
        <p> N Estimator  :Slider Value: <span id="rangen">100</span></p>
    <input type="range" min="100" max="1000" value="50" onchange="showValuen(this.value)" name="n_estimator">
    </div> -->
    <div>
        <label for="" class="label_heading">Upload file</label>
        <input type="file" name="datafile">
        <input type="submit" value="Upload">
    </div>
            <!-- <input type="submit" value="submit"> -->
        </form>
            <div style="overflow: scroll; max-height: 500px;">
      <table>
        {{ data|safe }}
        <h1>Next</h1>
        {{ xdata|safe }}
        <h1>Next</h1>
        <p>Listing the value</p>
        <p> Doing By Loop</p>
        {% for item in listing %}
        <p>Iternation Number</p>
        {{ item.i|safe }}<br>
        <p>R2 Score Without Best Parameter</p>
        {{ item.result|safe }}<br>
        <p>R2 Score With Best Parameter</p>
        {{ item.result_parameter|safe }}<br>


        <p>R2  Mean Absoulte Error Without Best Parameter</p>
        {{ item.mae|safe }}<br>
        <p>R2 Mean Absoulte Error  With Best Parameter</p>
        {{ item.mae_parameter|safe }}<br>


        <p>Column To be Used</p>
        {{ item.columns|safe }}<br>
        <p>Parameter to be used</p>
        {{ item.parameter|safe }}<br>
        {% endfor %}

      </table>
    </div>
</body>
    <!-- Conttent -->
    {% endblock %}

    {% block js %}
    <script src="{% static 'js/random_forest_classification.js' %}" type="module"></script>
<script>
    function showValuedepth(newValue) {
        document.getElementById("ranged").innerHTML = newValue;
      }
    function showValuesplit(newValue) {
        document.getElementById("rangesp").innerHTML = newValue;
      }
    function showValuen(newValue) {
        document.getElementById("rangen").innerHTML = newValue;
      }
</script>
    <!-- java -->
    {% endblock %}